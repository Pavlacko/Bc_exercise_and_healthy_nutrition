!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Nutričná aplikácia</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>

<body>
    @{
        var loggedIn = Context.Session.GetString("LoggedIn") == "true";
        var role = Context.Session.GetString("UserRole");
    }

    <div class="sidebar">
        <h2 class="sidebar-title">Healthy Start</h2>

        <ul class="nav flex-column">


            @if (loggedIn)
            {
                <a class="nav-link" asp-controller="User" asp-action="Profile">
                    <i class="bi bi-person-circle me-2"></i>Profil
                </a>

                <a class="nav-link" asp-controller="Diary" asp-action="Index">
                    <i class="bi bi-journal-text me-2"></i>Denník
                </a>

                <a class="nav-link" asp-controller="Stats" asp-action="Index">
                    <i class="bi bi-bar-chart-line me-2"></i>Štatistiky
                </a>

                <a class="nav-link" asp-controller="Education" asp-action="Index">
                    <i class="bi bi-lightbulb me-2"></i>Tutorialy
                </a>

            }

            @if (loggedIn && role == "Admin")
            {
                <a class="nav-link" asp-controller="Food" asp-action="Index">
                    <i class="bi bi-egg-fried me-2"></i>Databáza jedla
                </a>

                <a class="nav-link" asp-controller="User" asp-action="Index">
                    <i class="bi bi-people me-2"></i>Používatelia
                </a>
            }

            @if (loggedIn)
            {
                <a class="nav-link text-danger" asp-controller="User" asp-action="Logout">
                    <i class="bi bi-box-arrow-right me-2"></i>Odhlásiť sa
                </a>
            }

        </ul>
    </div>

    <div class="main-content">
        @RenderBody()
    </div>

    @RenderSection("Scripts", required: false)
</body>
</html>
